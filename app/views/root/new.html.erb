
<!DOCTYPE html >
  <head>
    <meta http-equiv="content-type" name="viewport"content="text/html; charset=UTF-8"/>
    <title>ルート案内</title>
    <script src="https://maps.google.com/maps?file=api&v=2&key=AIzaSyCh7zzxsUzcplpoidepQv8Wb6Bhe794pdo&sensor=false"
            type="text/javascript" charset="utf-8"></script>


    <style>
    html { width: 100%; height: 100%; }
    body { width: 100%; height: 100%; }
    #map {  height: 85%;  width: 60%; }
    </style>
  </head>
  <body onload="initialize()" onunload="GUnload()">

    <div id="map" style=float:left;></div>
    <div id="route" style="margin-top: 80px;margin-right: 80px;width: 300px; height: 100%;float:right;;overflow: scroll"></div>

<ul class="btn-line">
<li>
    <form>
    <li>from：<input type="text" id="from" size="20" value=" <%= @start.lat %> ,<%= @start.lng %> "/></li>
    <li>to：<input type="text" id="to" size="20" value="<%= @gool.lat %> ,<%= @gool.lng %>" /></li>　   　　
    </form>
  </li>
    <li>
      <input type=button  class: 'btn btn-black btn-block'id="btn" value="ルート表示" onclick="dispRoute()" />
    </li>
    <li>　
    <%= link_to '経路案内開始', "https://maps.google.com/maps?saddr=#{@start.lat},#{@start.lng}&daddr=#{@gool.lat},#{@gool.lng}&dirflg=d" , class: 'btn btn-black btn-block'%>
    </li>
    </ul>


<script>

var map;
var directions;

function initialize() {


  if (GBrowserIsCompatible()) {
    map = new GMap2(document.getElementById("map"));
    map.setCenter(new GLatLng(35.681379,139.765577), 9);

    directions = new GDirections(map, document.getElementById('route'));
  }
}

function dispRoute() {
  var from = document.getElementById("from").value;
  var to = document.getElementById("to").value;

  directions.clear();
　　str = 'from: ' + from + ' to: ' + to;

  directions.load(str, {locale: 'ja_JP'});
}


</script>
<style>
@media (max-width: 670px) {
  .btn-black {
    width: 40%;
    color: #565656;
    border: 1px solid #565656;
    padding-top: 5px;
    padding-bottom: 5px;
    margin: 30px;
    font-size: 15px;
    background-color: rgba(0,0,0,0.0);

    &:hover {
      color: #565656;
    }
  }

</style>


  </body>
</html>
